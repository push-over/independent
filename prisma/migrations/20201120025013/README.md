# Migration `20201120025013`

This migration has been generated by Praise at 11/20/2020, 10:50:13 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "User" ALTER COLUMN "isDelete" SET DEFAULT false

CREATE TABLE "Subject" (
    "id" TEXT NOT NULL,
    "parentId" TEXT NOT NULL DEFAULT E'0',
    "name" TEXT NOT NULL,
    "intro" TEXT,
    "sort" INTEGER NOT NULL DEFAULT 0,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updatedAt" TIMESTAMP(3) NOT NULL,

    PRIMARY KEY ("id")
)

CREATE UNIQUE INDEX "Subject.name_unique" ON "Subject"("name")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201119071939..20201120025013
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -22,9 +22,57 @@
   nickname  String?
   title     String?
   avatar    String?
   intro     String?
-  isDelete  Boolean
-  deletedAt DateTime?
-  createdAt DateTime @default(now())
-  updatedAt DateTime @updatedAt
-}
+  isDelete  Boolean   @default(false)
+  deletedAt DateTime? 
+  createdAt DateTime  @default(now())
+  updatedAt DateTime  @updatedAt
+}
+
+model Subject {
+  id        String    @id @default(cuid())
+  parentId  String    @default("0")
+  name      String    @unique
+  intro     String?
+  sort      Int       @default(0)
+  // courses   Course[]
+  createdAt DateTime  @default(now())
+  updatedAt DateTime  @updatedAt
+}
+
+// model Course {
+//   id               String        @id @default(cuid())
+//   subjectID        String
+//   teacherID        String
+//   title            String
+//   subjectTitle     String?
+//   cover            String
+//   level            CourseLevel
+//   intro            String
+//   claim            String
+//   learningOutcome  DateTime
+//   targetStudent    DateTime      @default(now())
+//   period           String
+//   rate             Float         @default(5.0)
+//   rateNum          Int           @default(0)
+//   viewNum          Int           @default(0)
+//   memberNum        Int           @default(0)
+//   isTop            Boolean       @default(false)
+//   status           CourseStatus
+//   isDelete         Boolean       @default(false)
+//   deletedAt        DateTime?
+//   createdAt        DateTime      @default(now())
+//   updatedAt        DateTime      @updatedAt
+// }
+
+// enum CourseStatus {
+//   DRAFT
+//   NORMAL  
+// }
+
+// enum CourseLevel {
+//   PRIMARY
+//   INTERMEDIATE
+//   EXPERT
+//   ALL
+// }
```


